<html>
<head>
    <title>Gigya Update Profile</title>
</head>
<body>
    <h3 id='domain'></h3>
    <h3 id='dataCenter'></h3>
    <p>https://gigya-test.github.io/update-profile/?dataCenter=<i>_dataCenter_</i>&apiKey=<i>_siteApiKey_</i></p>
<script>
function onJSLoad() {
    gigya.accounts.showScreenSet({
    screenSet: 'Default-ProfileUpdate'
    })
    var domains = window.gigya.partnerSettings.baseDomains;
    var domainEl = document.getElementById("domain");
    domainEl.innerHTML = 'site: ' + domains + ' (' + apiKey +')';
    
    var dcEl = document.getElementById("dataCenter");
    dcEl.innerHTML = 'dataCenter: ' + dataCenter;
}
function loadGigyaScript(url, callback) {
    // Adding the script tag to the head as suggested before
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;
    // Then bind the event to the callback function.
    // There are several events for cross browser compatibility.
    script.onreadystatechange = callback;
    script.onload = callback;
    // Fire the loading
    head.appendChild(script);
}
var url = new URL(window.location.href);
var dataCenter = url.searchParams.get("dataCenter") || 'il1';
var apiKey = url.searchParams.get("apiKey") || '3_mH8buUJ5ZZeigx5T0z5orPQR43W8mx9-6eaF0O0y1ne14U6-ods_2qFBtM-C8Q4c';// __base_site_for_e2e
var apiUrl = `https://cdns.` + dataCenter + `.gigya.com/JS/gigya.js?apikey=` + apiKey
loadGigyaScript(apiUrl, onJSLoad)
// us1 / ida-test-soa  
// var apikey=3_tuy1llbPnwe1LmPPl3-UjbVZGwfhKht1mhH-jN0UrKZQLNJsVceDufxv4EUXkoXA    
</script>

</body>
</html>
